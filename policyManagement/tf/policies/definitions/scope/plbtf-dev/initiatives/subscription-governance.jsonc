{
  // Azure Policy Initiative: Subscription Governance
  // Purpose: Groups policies related to subscription management and governance
  // Scope: Sandbox Test Management Group

  // Unique identifier for this initiative
  "name": "subscription-governance-initiative",

  "properties": {
    // Human-readable name displayed in Azure Portal
    "displayName": "Subscription Governance Initiative management",

    // Detailed description of what this initiative does
    "description": "This initiative enforces governance standards for Azure subscriptions including naming conventions and compliance requirements.",

    // Metadata for initiative classification and versioning
    "metadata": {
      "category": "Governance",
      "version": "1.0.0",
    },

    // Parameters that can be configured at initiative assignment level
    "parameters": {
      // Effect parameter for naming convention policy
      "namingConventionEffect": {
        "type": "String",
        "metadata": {
          "displayName": "Naming Convention Effect",
          "description": "Effect for the subscription naming convention policy",
        },
        "allowedValues": ["Deny", "Audit", "Disabled"],
        "defaultValue": "Audit",
      },

      // Name pattern parameter for subscription naming
      "subscriptionNamePattern": {
        "type": "String",
        "metadata": {
          "displayName": "Subscription Name Pattern",
          "description": "The regex pattern that subscription names must match",
        },
        "defaultValue": "^plbtf-[a-z0-9]+-sc-(dev|test|nonprod|prod)-[0-9]{3}$",
      },
    },

    // Policy definitions included in this initiative
    "policyDefinitions": [
      {
        // Reference to the subscription naming convention policy
        "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/plbtf-dev/providers/Microsoft.Authorization/policyDefinitions/enforce-sub-naming-convention",

        // Unique reference ID for this policy within the initiative
        "policyDefinitionReferenceId": "enforce-subscription-naming",

        // Map initiative parameters to policy parameters
        "parameters": {
          "effect": {
            "value": "[parameters('namingConventionEffect')]",
          },
          "namePattern": {
            "value": "[parameters('subscriptionNamePattern')]",
          },
        },
      },
    ],
  },
}
